/**
 * ê²©êµ­ íŒë‹¨ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
 * 
 * ë¬¸ì„œì— ì œì‹œëœ ì¼€ì´ìŠ¤ë“¤ì„ ê²€ì¦í•©ë‹ˆë‹¤.
 */

import { analyzeGeokguk } from './gyeokguk.js';
import { getSajuInfoFromCharacters } from './manse.js';
import type { SajuInfo } from '../types.js';

/**
 * í…ŒìŠ¤íŠ¸ í—¬í¼: ì‚¬ì£¼ ë¬¸ìì—´ë¡œ SajuInfo ìƒì„±
 * 
 * @param ì‚¬ì£¼8ê¸€ì - "ë…„ê°„ ë…„ì§€ ì›”ê°„ ì›”ì§€ ì¼ê°„ ì¼ì§€ ì‹œê°„ ì‹œì§€" í˜•ì‹
 * ì˜ˆ: "ç”² å­ ä¸™ å­ ä¸™ åˆ æˆŠ ç”³"
 */
function createTestSajuInfo(ì‚¬ì£¼8ê¸€ì: string): SajuInfo {
  const parts = ì‚¬ì£¼8ê¸€ì.split(/\s+/).filter(p => p);
  if (parts.length !== 8) {
    throw new Error(`ì‚¬ì£¼ 8ê¸€ìê°€ ì•„ë‹™ë‹ˆë‹¤: ${ì‚¬ì£¼8ê¸€ì}`);
  }

  const [nyeonGan, nyeonJi, wolGan, wolJi, ilGan, ilJi, siGan, siJi] = parts;
  
  // characters ë°°ì—´ì€ [ì‹œê°„, ì‹œì§€, ì¼ê°„, ì¼ì§€, ì›”ê°„, ì›”ì§€, ë…„ê°„, ë…„ì§€] ìˆœì„œ
  const characters = [siGan, siJi, ilGan, ilJi, wolGan, wolJi, nyeonGan, nyeonJi];

  return getSajuInfoFromCharacters(
    characters,
    'male',
    'sunhaeng',
    1,
    { year: 2000, month: 1, day: 1, hour: 0, minute: 0 },
    'ì„œìš¸ ë¶€ê·¼'
  );
}

/**
 * í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì¶œë ¥
 */
function printTestResult(
  testName: string,
  result: ReturnType<typeof analyzeGeokguk>,
  expected: {
    íŒë‹¨ê°€ëŠ¥?: boolean;
    ê²©ëª…ì¹­?: string;
    ê²©ìš©ì‹ ?: string;
    ê²©ë¶„ë¥˜?: 'ë‚´ê²©' | 'ì™¸ê²©';
  }
) {
  console.log(`\n${'='.repeat(60)}`);
  console.log(`í…ŒìŠ¤íŠ¸: ${testName}`);
  console.log(`${'='.repeat(60)}`);

  if (result.íŒë‹¨ê°€ëŠ¥ !== expected.íŒë‹¨ê°€ëŠ¥) {
    console.log(`âŒ ì‹¤íŒ¨: íŒë‹¨ê°€ëŠ¥`);
    console.log(`   ì˜ˆìƒ: ${expected.íŒë‹¨ê°€ëŠ¥}`);
    console.log(`   ì‹¤ì œ: ${result.íŒë‹¨ê°€ëŠ¥}`);
    return false;
  }

  if (result.íŒë‹¨ê°€ëŠ¥ && result.ê²©êµ­) {
    if (expected.ê²©ëª…ì¹­ && result.ê²©êµ­.ê²©ëª…ì¹­ !== expected.ê²©ëª…ì¹­) {
      console.log(`âŒ ì‹¤íŒ¨: ê²©ëª…ì¹­`);
      console.log(`   ì˜ˆìƒ: ${expected.ê²©ëª…ì¹­}`);
      console.log(`   ì‹¤ì œ: ${result.ê²©êµ­.ê²©ëª…ì¹­}`);
      return false;
    }

    if (expected.ê²©ìš©ì‹  && result.ê²©êµ­.ê²©ìš©ì‹  !== expected.ê²©ìš©ì‹ ) {
      console.log(`âŒ ì‹¤íŒ¨: ê²©ìš©ì‹ `);
      console.log(`   ì˜ˆìƒ: ${expected.ê²©ìš©ì‹ }`);
      console.log(`   ì‹¤ì œ: ${result.ê²©êµ­.ê²©ìš©ì‹ }`);
      return false;
    }

    if (expected.ê²©ë¶„ë¥˜ && result.ê²©êµ­.ê²©ë¶„ë¥˜ !== expected.ê²©ë¶„ë¥˜) {
      console.log(`âŒ ì‹¤íŒ¨: ê²©ë¶„ë¥˜`);
      console.log(`   ì˜ˆìƒ: ${expected.ê²©ë¶„ë¥˜}`);
      console.log(`   ì‹¤ì œ: ${result.ê²©êµ­.ê²©ë¶„ë¥˜}`);
      return false;
    }

    console.log(`âœ… ì„±ê³µ`);
    console.log(`   ê²©ëª…ì¹­: ${result.ê²©êµ­.ê²©ëª…ì¹­}`);
    console.log(`   ê²©ìš©ì‹ : ${result.ê²©êµ­.ê²©ìš©ì‹ }`);
    console.log(`   ê²©ë¶„ë¥˜: ${result.ê²©êµ­.ê²©ë¶„ë¥˜}`);
    console.log(`   ì„±ê²©ìƒíƒœ: ${result.ê²©êµ­.ì„±ê²©ìƒíƒœ}`);
    console.log(`   ì‹ ë¢°ë„: ${result.ê²©êµ­.ì‹ ë¢°ë„}%`);
    console.log(`   íŒë‹¨ê·¼ê±°: ${JSON.stringify(result.ê²©êµ­.íŒë‹¨ê·¼ê±°, null, 2)}`);
    console.log(`   í•´ì„: ${result.ê²©êµ­.í•´ì„}`);
  } else if (!result.íŒë‹¨ê°€ëŠ¥) {
    console.log(`âœ… ì„±ê³µ (íŒë‹¨ ë¶ˆê°€)`);
    console.log(`   ë©”ì‹œì§€: ${result.ë©”ì‹œì§€}`);
    if (result.ì´ìœ ) {
      console.log(`   ì´ìœ : ${result.ì´ìœ .join(', ')}`);
    }
  }

  return true;
}

// ============================================
// í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‹¤í–‰
// ============================================

export function runAllTests() {
  console.log('\nğŸ§ª ê²©êµ­ íŒë‹¨ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ì‹œì‘\n');

  let passCount = 0;
  let failCount = 0;

  // ============================================
  // Phase 2-1: ì™•ì§€(ìì˜¤ë¬˜ìœ ) í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ Phase 2-1: ì™•ì§€(ìì˜¤ë¬˜ìœ ) í…ŒìŠ¤íŠ¸\n');

  // Test 1: ìì›” ê³„ìˆ˜ ì •ê´€ê²©
  // ì‚¬ì£¼: ç”² ä¸™ ä¸™ æˆŠ / å­ å­ åˆ ç”³
  // ì›”ì§€: å­(ììˆ˜) â†’ ë³¸ê¸° ê³„ìˆ˜(ç™¸)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ê³„ìˆ˜ â†’ ì •ê´€(ìŒì–‘ ë‹¤ë¦„)
  // ê²°ê³¼: ì •ê´€ê²©
  try {
    const test1 = createTestSajuInfo('ç”² å­ ä¸™ å­ ä¸™ åˆ æˆŠ ç”³');
    const result1 = analyzeGeokguk(test1);
    if (printTestResult('Test 1: ìì›” ê³„ìˆ˜ ì •ê´€ê²©', result1, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ê´€ê²©',
      ê²©ìš©ì‹ : 'ç™¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 2: ì˜¤ì›” ì •í™” ì •ì¬ê²©
  // ì‚¬ì£¼: ç”² ä¸™ æˆŠ åºš / å­ åˆ åˆ ç”³
  // ì›”ì§€: åˆ(ì˜¤í™”) â†’ ë³¸ê¸° ì •í™”(ä¸)
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // ê´€ê³„: ë¬´í†  vs ì •í™” â†’ ì •ì¬
  // ê²°ê³¼: ì •ì¬ê²©
  try {
    const test2 = createTestSajuInfo('ç”² å­ ä¸™ åˆ æˆŠ åˆ åºš ç”³');
    const result2 = analyzeGeokguk(test2);
    if (printTestResult('Test 2: ì˜¤ì›” ì •í™” ì •ì¬ê²©', result2, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©',
      ê²©ìš©ì‹ : 'ä¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // Phase 2-2: ìƒì§€(ì¸ì‹ ì‚¬í•´) í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ Phase 2-2: ìƒì§€(ì¸ì‹ ì‚¬í•´) í…ŒìŠ¤íŠ¸\n');

  // Test 3: ì¸ì›” ê°‘ëª© í¸ì¸ê²© (ë³¸ê¸° íˆ¬ì¶œ)
  // ì‚¬ì£¼: ç”² ä¸™ ä¸™ æˆŠ / å¯… å¯… åˆ ç”³
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ë³¸ê¸° ê°‘ëª©(ç”²)
  // ì²œê°„: ç”²ì´ ë…„ê°„ì— íˆ¬ì¶œ
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ê°‘ëª© â†’ í¸ì¸(ìŒì–‘ ê°™ìŒ)
  // ê²°ê³¼: í¸ì¸ê²©
  try {
    const test3 = createTestSajuInfo('ç”² å¯… ä¸™ å¯… ä¸™ åˆ æˆŠ ç”³');
    const result3 = analyzeGeokguk(test3);
    if (printTestResult('Test 3: ì¸ì›” ê°‘ëª© í¸ì¸ê²© (ë³¸ê¸° íˆ¬ì¶œ)', result3, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¸ê²©',
      ê²©ìš©ì‹ : 'ç”²',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 4: ì¸ì›” ë³‘í™” ê±´ë¡ê²© (ì¤‘ê¸° íˆ¬ì¶œ)
  // ì‚¬ì£¼: åºš ä¸™ ä¸™ æˆŠ / å¯… å¯… åˆ ç”³
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ì¤‘ê¸° ë³‘í™”(ä¸™)
  // ì²œê°„: ç”²ì€ ì—†ê³ , ä¸™ì´ ì›”ê°„, ì‹œê°„ì— ìˆìŒ
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ë³‘í™” â†’ ë¹„ê²¬
  // ê²°ê³¼: ê±´ë¡ê²©
  try {
    const test4 = createTestSajuInfo('åºš å¯… ä¸™ å¯… ä¸™ åˆ æˆŠ ç”³');
    const result4 = analyzeGeokguk(test4);
    if (printTestResult('Test 4: ì¸ì›” ë³‘í™” ê±´ë¡ê²© (ì¤‘ê¸° íˆ¬ì¶œ)', result4, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ê±´ë¡ê²©',
      ê²©ìš©ì‹ : 'ä¸™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 5: ì‚¬ì›” ë¬´í†  ì‹ì‹ ê²© (ì—¬ê¸° íˆ¬ì¶œ, ì‚¬ì›”ë§Œ ì¸ì •)
  // ì‚¬ì£¼: æˆŠ åºš ä¸™ æˆŠ / å·³ å·³ åˆ ç”³
  // ì›”ì§€: å·³(ì‚¬í™”) â†’ ì—¬ê¸° ë¬´í† (æˆŠ)
  // ì²œê°„: ä¸™(ë³¸ê¸°), åºš(ì¤‘ê¸°) ì—†ìŒ, æˆŠë§Œ ìˆìŒ
  // íŠ¹ìˆ˜: ì‚¬ì›”ì´ë¯€ë¡œ ë¬´í†  ì¸ì • (í™”í† ë™ë²•) âœ…
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ë¬´í†  â†’ ì‹ì‹ 
  // ê²°ê³¼: ì‹ì‹ ê²©
  try {
    const test5 = createTestSajuInfo('æˆŠ å·³ åºš å·³ ä¸™ åˆ æˆŠ ç”³');
    const result5 = analyzeGeokguk(test5);
    if (printTestResult('Test 5: ì‚¬ì›” ë¬´í†  ì‹ì‹ ê²© (ì—¬ê¸° íˆ¬ì¶œ, ì‚¬ì›” íŠ¹ë¡€)', result5, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì‹ì‹ ê²©',
      ê²©ìš©ì‹ : 'æˆŠ',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 6: ì¸ì›” ë¬´í†  ë¶ˆì¸ì • (ë³¸ê¸°ë¡œ ì´ë™)
  // ì‚¬ì£¼: æˆŠ åºš ä¸™ æˆŠ / å¯… å¯… åˆ ç”³
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ì—¬ê¸° ë¬´í† (æˆŠ), ë³¸ê¸° ê°‘ëª©(ç”²)
  // ì²œê°„: ç”²(ë³¸ê¸°), ä¸™(ì¤‘ê¸°) ì—†ìŒ, æˆŠë§Œ íˆ¬ì¶œ
  // íŠ¹ìˆ˜: ì¸ì›”ì´ë¯€ë¡œ ë¬´í†  ë¶ˆì¸ì • (í˜ì´ ì•½í•¨) âŒ
  //      â†’ ë³¸ê¸° ê°‘ëª©(ç”²)ì„ ê²©ìœ¼ë¡œ ì‚¬ìš©
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ê°‘ëª© â†’ í¸ì¸
  // ê²°ê³¼: í¸ì¸ê²©
  try {
    const test6 = createTestSajuInfo('æˆŠ å¯… åºš å¯… ä¸™ åˆ æˆŠ ç”³');
    const result6 = analyzeGeokguk(test6);
    if (printTestResult('Test 6: ì¸ì›” ë¬´í†  ë¶ˆì¸ì • (ë³¸ê¸°ë¡œ ì´ë™)', result6, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¸ê²©',
      ê²©ìš©ì‹ : 'ç”²',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // Phase 2-3: ê³ ì§€(ì§„ìˆ ì¶•ë¯¸) í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ Phase 2-3: ê³ ì§€(ì§„ìˆ ì¶•ë¯¸) í…ŒìŠ¤íŠ¸\n');

  // Test 7: ì§„ì›” ë¬´í†  í¸ì¬ê²© (ë³¸ê¸° íˆ¬ì¶œ, ì¼ê°„â‰ í† )
  // ì‚¬ì£¼: æˆŠ ç”² ç”² åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ë³¸ê¸° ë¬´í† (æˆŠ)
  // ì²œê°„: æˆŠê°€ ë…„ê°„ì— íˆ¬ì¶œ
  // ì¼ê°„: ç”²(ê°‘ëª©) ğŸ”¥
  // Step 1: ë³¸ê¸° ë¬´í†  íˆ¬ì¶œ? YES
  //        ì¼ê°„ì´ í† ì¸ê°€? NO (ê°‘ëª©ì„)
  //        â†’ ë¬´í† ê°€ ê²©!
  // ê´€ê³„: ê°‘ëª© vs ë¬´í†  â†’ í¸ì¬
  // ê²°ê³¼: í¸ì¬ê²©
  try {
    const test7 = createTestSajuInfo('æˆŠ è¾° ç”² è¾° ç”² åˆ åºš ç”³');
    const result7 = analyzeGeokguk(test7);
    if (printTestResult('Test 7: ì§„ì›” ë¬´í†  í¸ì¬ê²© (ë³¸ê¸° íˆ¬ì¶œ, ì¼ê°„â‰ í† )', result7, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¬ê²©',
      ê²©ìš©ì‹ : 'æˆŠ',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 8: ì§„ì›” ê³„ìˆ˜ ì •ì¬ê²© (ë³¸ê¸° íˆ¬ì¶œ, ì¼ê°„=í†  â†’ ì¤‘ê¸°ë¡œ)
  // ì‚¬ì£¼: æˆŠ ç™¸ æˆŠ åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ë³¸ê¸° ë¬´í† (æˆŠ)
  // ì²œê°„: æˆŠ íˆ¬ì¶œ (ë…„ê°„, ì¼ê°„), ç™¸(ê³„ìˆ˜) íˆ¬ì¶œ (ì›”ê°„)
  // ì¼ê°„: æˆŠ(ë¬´í† ) ğŸ”¥
  // Step 1: ë³¸ê¸° ë¬´í†  íˆ¬ì¶œ? YES
  //        ì¼ê°„ì´ í† ì¸ê°€? YES
  //        â†’ ë¹„ê²ì´ë¯€ë¡œ ê²©ìœ¼ë¡œ ì•ˆ ì¡ìŒ! Step 2ë¡œ
  // Step 2: ì¤‘ê¸° ê³„ìˆ˜(ç™¸) íˆ¬ì¶œ â†’ ê³„ìˆ˜ê°€ ê²©!
  // ê´€ê³„: ë¬´í†  vs ê³„ìˆ˜ â†’ ì •ì¬
  // ê²°ê³¼: ì •ì¬ê²©
  try {
    const test8 = createTestSajuInfo('æˆŠ è¾° ç™¸ è¾° æˆŠ åˆ åºš ç”³');
    const result8 = analyzeGeokguk(test8);
    if (printTestResult('Test 8: ì§„ì›” ê³„ìˆ˜ ì •ì¬ê²© (ì¼ê°„=í† , ì¤‘ê¸°ë¡œ)', result8, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©',
      ê²©ìš©ì‹ : 'ç™¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 9: ì§„ì›” ì„ëª© ì •ì¸ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)
  // ì‚¬ì£¼: ä¹™ ç”² ä¸™ åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì—¬ê¸° ì„ëª©(ä¹™)
  // ì²œê°„: ä¹™ë§Œ íˆ¬ì¶œ (æˆŠ, ç™¸ëŠ” ì—†ìŒ)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // Step 2: ì—¬ê¸°ë§Œ íˆ¬ì¶œ
  // ê´€ê³„: ë³‘í™” vs ì„ëª© â†’ ì •ì¸
  // ê²°ê³¼: ì •ì¸ê²©
  try {
    const test9 = createTestSajuInfo('ä¹™ è¾° ç”² è¾° ä¸™ åˆ åºš ç”³');
    const result9 = analyzeGeokguk(test9);
    if (printTestResult('Test 9: ì§„ì›” ì„ëª© ì •ì¸ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)', result9, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 10: ì§„ì›” ê³„ìˆ˜ ì •ê´€ê²© (ì¤‘ê¸°ë§Œ íˆ¬ì¶œ)
  // ì‚¬ì£¼: ç™¸ å£¬ ä¸™ åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì¤‘ê¸° ê³„ìˆ˜(ç™¸)
  // ì²œê°„: ç™¸, å£¬ íˆ¬ì¶œ (ä¹™, æˆŠëŠ” ì—†ìŒ)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // Step 2: ì¤‘ê¸°ë§Œ íˆ¬ì¶œ
  // ê´€ê³„: ë³‘í™” vs ê³„ìˆ˜ â†’ ì •ê´€
  // ê²°ê³¼: ì •ê´€ê²©
  try {
    const test10 = createTestSajuInfo('ç™¸ è¾° å£¬ è¾° ä¸™ åˆ åºš ç”³');
    const result10 = analyzeGeokguk(test10);
    if (printTestResult('Test 10: ì§„ì›” ê³„ìˆ˜ ì •ê´€ê²© (ì¤‘ê¸°ë§Œ íˆ¬ì¶œ)', result10, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ê´€ê²©',
      ê²©ìš©ì‹ : 'ç™¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 11: ë¯¸ì›” ì„ëª© ì •ì¸ê²© (ì—¬ê¸°ì™€ ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ, ìˆ˜ëŸ‰ ìŠ¹ë¶€)
  // ì‚¬ì£¼: ä¹™ ç™¸ ä¸™ ä¹™ / æœª æœª åˆ ç”³
  // ì›”ì§€: æœª(ë¯¸í† ) â†’ ì—¬ê¸° ì •í™”(ä¸), ì¤‘ê¸° ì„ëª©(ä¹™)
  // ì²œê°„: ä¹™ 2ê°œ, ç™¸ 1ê°œ
  // Step 3: ë‘˜ ë‹¤ íˆ¬ì¶œ â†’ ìˆ˜ëŸ‰ ë¹„êµ
  // ë¹„êµ: ì„ëª©(2ê°œ) > ê³„ìˆ˜(1ê°œ)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê²°ê³¼: ì„ëª©ì´ ê²© â†’ ì •ì¸ê²©
  try {
    const test11 = createTestSajuInfo('ä¹™ æœª ç™¸ æœª ä¸™ åˆ ä¹™ ç”³');
    const result11 = analyzeGeokguk(test11);
    if (printTestResult('Test 11: ë¯¸ì›” ì„ëª© ì •ì¸ê²© (ì—¬ê¸°ì¤‘ê¸° ê²½í•©, ìˆ˜ëŸ‰ ìŠ¹ë¶€)', result11, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 12: ì§„ì›” ì„ëª© ì •ì¸ê²© (ì—¬ê¸°ì™€ ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ, ì‚¬ë ¹ì¼ìˆ˜ ìŠ¹ë¶€)
  // ì‚¬ì£¼: ä¹™ ç™¸ ä¸™ åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì—¬ê¸° ì„ëª©(ä¹™), ì¤‘ê¸° ê³„ìˆ˜(ç™¸)
  // ì²œê°„: ä¹™ 1ê°œ, ç™¸ 1ê°œ (ìˆ˜ëŸ‰ ë™ì¼)
  // Step 3: ë‘˜ ë‹¤ íˆ¬ì¶œ â†’ ì‚¬ë ¹ì¼ìˆ˜ ë¹„êµ
  // ë¹„êµ: ì‚¬ë ¹ì¼ìˆ˜ â†’ ì—¬ê¸°(9ì¼) > ì¤‘ê¸°(3ì¼)
  // ê²°ê³¼: ì„ëª©ì´ ê²© â†’ ì •ì¸ê²©
  try {
    const test12 = createTestSajuInfo('ä¹™ è¾° ç™¸ è¾° ä¸™ åˆ åºš ç”³');
    const result12 = analyzeGeokguk(test12);
    if (printTestResult('Test 12: ì§„ì›” ì„ëª© ì •ì¸ê²© (ì—¬ê¸°ì¤‘ê¸° ê²½í•©, ì‚¬ë ¹ì¼ìˆ˜ ìŠ¹ë¶€)', result12, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 13: ì§„ì›” íˆ¬ì¶œ ì—†ìŒ (ì¼ê°„â‰ í† , ë³¸ê¸° ì‚¬ìš©í•˜ë˜ ë¯¸ì™„ì„±)
  // ì‚¬ì£¼: åºš å£¬ ä¸™ ç”² / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ä¹™, ç™¸, æˆŠ ëª¨ë‘ ì—†ìŒ
  // ì²œê°„: åºš, å£¬, ä¸™, ç”² (ì§„í† ì™€ ë¬´ê´€)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // Step 4: ì•„ë¬´ê²ƒë„ íˆ¬ì¶œ ì•ˆë¨
  //        ì¼ê°„ì´ í† ? NO
  // ê²°ê³¼: ë³¸ê¸° ë¬´í† (æˆŠ)ë¥¼ ê²©ìœ¼ë¡œ ì‚¬ìš©
  //      â†’ ì‹ì‹ ê²© (ë³‘í™” vs ë¬´í† )
  try {
    const test13 = createTestSajuInfo('åºš è¾° å£¬ è¾° ä¸™ åˆ ç”² ç”³');
    const result13 = analyzeGeokguk(test13);
    if (printTestResult('Test 13: ì§„ì›” íˆ¬ì¶œ ì—†ìŒ (ì¼ê°„â‰ í† , ë³¸ê¸° ì‚¬ìš©)', result13, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì‹ì‹ ê²©',
      ê²©ìš©ì‹ : 'æˆŠ',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 14: ì§„ì›” íˆ¬ì¶œ ì—†ìŒ (ì¼ê°„=í† , ê²©êµ­ ë¯¸ì •)
  // ì‚¬ì£¼: åºš å£¬ æˆŠ ç”² / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ä¹™, ç™¸, æˆŠ ëª¨ë‘ ì—†ìŒ
  // ì²œê°„: åºš, å£¬, æˆŠ(ì¼ê°„), ç”²
  // ì¼ê°„: æˆŠ(ë¬´í† ) ğŸ”¥
  // Step 4: ì•„ë¬´ê²ƒë„ íˆ¬ì¶œ ì•ˆë¨
  //        ì¼ê°„ì´ í† ? YES
  // ê²°ê³¼: ê²©êµ­ ë¯¸ì •
  try {
    const test14 = createTestSajuInfo('åºš è¾° å£¬ è¾° æˆŠ åˆ ç”² ç”³');
    const result14 = analyzeGeokguk(test14);
    if (printTestResult('Test 14: ì§„ì›” íˆ¬ì¶œ ì—†ìŒ (ì¼ê°„=í† , ê²©êµ­ ë¯¸ì •)', result14, {
      íŒë‹¨ê°€ëŠ¥: false,
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // Phase 1: íŠ¹ìˆ˜ê²© í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ Phase 1: íŠ¹ìˆ˜ê²© í…ŒìŠ¤íŠ¸\n');

  // Test 15: ì–‘ì¸ê²© (ì–‘ê°„ + ìì˜¤ë¬˜ìœ )
  // ì‚¬ì£¼: åºš ç”² ç”² ä¸™ / ç”³ å¯ å¯… åˆ
  // ì¼ê°„: ç”²(ê°‘ëª©)
  // ì›”ì§€: å¯(ë¬˜ëª©) â†’ ê°‘ëª©ì˜ ì–‘ì¸ì§€ âœ…
  // ê²°ê³¼: ì–‘ì¸ê²©
  try {
    const test15 = createTestSajuInfo('åºš ç”³ ç”² å¯ ç”² å¯… ä¸™ åˆ');
    const result15 = analyzeGeokguk(test15);
    if (printTestResult('Test 15: ì–‘ì¸ê²© (ì–‘ê°„ + ìì˜¤ë¬˜ìœ )', result15, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì–‘ì¸ê²©',
      ê²©ìš©ì‹ : 'ç”²',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 16: ê±´ë¡ê²© (ì¸ì›” ê°‘ëª©)
  // ì‚¬ì£¼: åºš ç”² ç”² ä¸™ / ç”³ å¯… å¯… åˆ
  // ì¼ê°„: ç”²(ê°‘ëª©)
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ê°‘ëª©ì˜ ê±´ë¡ì§€ âœ…
  // ê²°ê³¼: ê±´ë¡ê²©
  try {
    const test16 = createTestSajuInfo('åºš ç”³ ç”² å¯… ç”² å¯… ä¸™ åˆ');
    const result16 = analyzeGeokguk(test16);
    if (printTestResult('Test 16: ê±´ë¡ê²© (ì¸ì›” ê°‘ëª©)', result16, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ê±´ë¡ê²©',
      ê²©ìš©ì‹ : 'ç”²',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 17: ì›”ê²ê²© (ìŒê°„ + ê²ì¬ì§€)
  // ì‚¬ì£¼: åºš ç”² ä¹™ ä¸™ / ç”³ å¯… å¯… åˆ
  // ì¼ê°„: ä¹™(ì„ëª©)
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ì„ëª©ì˜ ê²ì¬ì§€
  // ê²°ê³¼: ì›”ê²ê²© (ê±´ë¡ê²©ê³¼ ë™ê¸‰)
  try {
    const test17 = createTestSajuInfo('åºš ç”³ ç”² å¯… ä¹™ å¯… ä¸™ åˆ');
    const result17 = analyzeGeokguk(test17);
    if (printTestResult('Test 17: ì›”ê²ê²© (ìŒê°„ + ê²ì¬ì§€)', result17, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì›”ê²ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ì¶”ê°€ ì™•ì§€ í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ ì¶”ê°€ ì™•ì§€ í…ŒìŠ¤íŠ¸\n');

  // Test 18: ë¬˜ì›” ì„ëª© í¸ì¸ê²©
  // ì‚¬ì£¼: ç”² ä¸™ ä¸™ æˆŠ / å­ å¯ åˆ ç”³
  // ì›”ì§€: å¯(ë¬˜ëª©) â†’ ë³¸ê¸° ì„ëª©(ä¹™)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ì„ëª© â†’ í¸ì¸
  // ê²°ê³¼: í¸ì¸ê²©
  try {
    const test18 = createTestSajuInfo('ç”² å­ ä¸™ å¯ ä¸™ åˆ æˆŠ ç”³');
    const result18 = analyzeGeokguk(test18);
    if (printTestResult('Test 18: ë¬˜ì›” ì„ëª© í¸ì¸ê²©', result18, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¸ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 19: ìœ ì›” ì‹ ê¸ˆ ì •ì¬ê²©
  // ì‚¬ì£¼: ç”² ä¸™ æˆŠ åºš / å­ é…‰ åˆ ç”³
  // ì›”ì§€: é…‰(ìœ ê¸ˆ) â†’ ë³¸ê¸° ì‹ ê¸ˆ(è¾›)
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // ê´€ê³„: ë¬´í†  vs ì‹ ê¸ˆ â†’ ì •ì¬
  // ê²°ê³¼: ì •ì¬ê²©
  try {
    const test19 = createTestSajuInfo('ç”² å­ ä¸™ é…‰ æˆŠ åˆ åºš ç”³');
    const result19 = analyzeGeokguk(test19);
    if (printTestResult('Test 19: ìœ ì›” ì‹ ê¸ˆ ì •ì¬ê²©', result19, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©',
      ê²©ìš©ì‹ : 'è¾›',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ì¶”ê°€ ìƒì§€ í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ ì¶”ê°€ ìƒì§€ í…ŒìŠ¤íŠ¸\n');

  // Test 20: ì‹ ì›” ê²½ê¸ˆ í¸ì¬ê²© (ë³¸ê¸° íˆ¬ì¶œ)
  // ì‚¬ì£¼: åºš å£¬ æˆŠ ç”² / ç”³ ç”³ åˆ å¯…
  // ì›”ì§€: ç”³(ì‹ ê¸ˆ) â†’ ë³¸ê¸° ê²½ê¸ˆ(åºš)
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // ê´€ê³„: ë¬´í†  vs ê²½ê¸ˆ â†’ í¸ì¬
  // ê²°ê³¼: í¸ì¬ê²©
  try {
    const test20 = createTestSajuInfo('åºš ç”³ å£¬ ç”³ æˆŠ åˆ ç”² å¯…');
    const result20 = analyzeGeokguk(test20);
    if (printTestResult('Test 20: ì‹ ì›” ê²½ê¸ˆ í¸ì¬ê²© (ë³¸ê¸° íˆ¬ì¶œ)', result20, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¬ê²©',
      ê²©ìš©ì‹ : 'åºš',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 21: ì‹ ì›” ì„ìˆ˜ í¸ê´€ê²© (ì¤‘ê¸° íˆ¬ì¶œ)
  // ì‚¬ì£¼: å£¬ åºš æˆŠ ç”² / ç”³ ç”³ åˆ å¯…
  // ì›”ì§€: ç”³(ì‹ ê¸ˆ) â†’ ì¤‘ê¸° ì„ìˆ˜(å£¬)
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // ê´€ê³„: ë¬´í†  vs ì„ìˆ˜ â†’ í¸ê´€
  // ê²°ê³¼: í¸ê´€ê²©
  try {
    const test21 = createTestSajuInfo('å£¬ ç”³ åºš ç”³ æˆŠ åˆ ç”² å¯…');
    const result21 = analyzeGeokguk(test21);
    if (printTestResult('Test 21: ì‹ ì›” ì„ìˆ˜ í¸ê´€ê²© (ì¤‘ê¸° íˆ¬ì¶œ)', result21, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ê´€ê²©',
      ê²©ìš©ì‹ : 'å£¬',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 22: í•´ì›” ì„ìˆ˜ ì •ê´€ê²© (ë³¸ê¸° íˆ¬ì¶œ)
  // ì‚¬ì£¼: å£¬ ç”² æˆŠ åºš / äº¥ äº¥ åˆ ç”³
  // ì›”ì§€: äº¥(í•´ìˆ˜) â†’ ë³¸ê¸° ì„ìˆ˜(å£¬)
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // ê´€ê³„: ë¬´í†  vs ì„ìˆ˜ â†’ ì •ê´€
  // ê²°ê³¼: ì •ê´€ê²©
  try {
    const test22 = createTestSajuInfo('å£¬ äº¥ ç”² äº¥ æˆŠ åˆ åºš ç”³');
    const result22 = analyzeGeokguk(test22);
    if (printTestResult('Test 22: í•´ì›” ì„ìˆ˜ ì •ê´€ê²© (ë³¸ê¸° íˆ¬ì¶œ)', result22, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ê´€ê²©',
      ê²©ìš©ì‹ : 'å£¬',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 23: í•´ì›” ë¬´í†  ë¶ˆì¸ì • (ë³¸ê¸°ë¡œ ì´ë™)
  // ì‚¬ì£¼: æˆŠ ç”² æˆŠ åºš / äº¥ äº¥ åˆ ç”³
  // ì›”ì§€: äº¥(í•´ìˆ˜) â†’ ì—¬ê¸° ë¬´í† (æˆŠ), ë³¸ê¸° ì„ìˆ˜(å£¬)
  // ì²œê°„: æˆŠë§Œ íˆ¬ì¶œ
  // íŠ¹ìˆ˜: í•´ì›”ì´ë¯€ë¡œ ë¬´í†  ë¶ˆì¸ì • (í˜ì´ ì•½í•¨) âŒ
  //      â†’ ë³¸ê¸° ì„ìˆ˜(å£¬)ë¥¼ ê²©ìœ¼ë¡œ ì‚¬ìš©
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // ê´€ê³„: ë¬´í†  vs ì„ìˆ˜ â†’ ì •ê´€
  // ê²°ê³¼: ì •ê´€ê²©
  try {
    const test23 = createTestSajuInfo('æˆŠ äº¥ ç”² äº¥ æˆŠ åˆ åºš ç”³');
    const result23 = analyzeGeokguk(test23);
    if (printTestResult('Test 23: í•´ì›” ë¬´í†  ë¶ˆì¸ì • (ë³¸ê¸°ë¡œ ì´ë™)', result23, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ê´€ê²©',
      ê²©ìš©ì‹ : 'å£¬',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ì¶”ê°€ ê³ ì§€ í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ ì¶”ê°€ ê³ ì§€ í…ŒìŠ¤íŠ¸\n');

  // Test 24: ë¯¸ì›” ì •í™” ìƒê´€ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)
  // ì‚¬ì£¼: ä¸ ç”² ä¸™ åºš / æœª æœª åˆ ç”³
  // ì›”ì§€: æœª(ë¯¸í† ) â†’ ì—¬ê¸° ì •í™”(ä¸)
  // ì²œê°„: ä¸ë§Œ íˆ¬ì¶œ (ä¹™, å·±ëŠ” ì—†ìŒ)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ì •í™” â†’ ìƒê´€
  // ê²°ê³¼: ìƒê´€ê²©
  try {
    const test24 = createTestSajuInfo('ä¸ æœª ç”² æœª ä¸™ åˆ åºš ç”³');
    const result24 = analyzeGeokguk(test24);
    if (printTestResult('Test 24: ë¯¸ì›” ì •í™” ìƒê´€ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)', result24, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ìƒê´€ê²©',
      ê²©ìš©ì‹ : 'ä¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 25: ë¯¸ì›” ê¸°í†  ì •ì¬ê²© (ë³¸ê¸° íˆ¬ì¶œ, ì¼ê°„â‰ í† )
  // ì‚¬ì£¼: å·± ç”² ä¸™ åºš / æœª æœª åˆ ç”³
  // ì›”ì§€: æœª(ë¯¸í† ) â†’ ë³¸ê¸° ê¸°í† (å·±)
  // ì²œê°„: å·± íˆ¬ì¶œ
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ê¸°í†  â†’ ì •ì¬
  // ê²°ê³¼: ì •ì¬ê²©
  try {
    const test25 = createTestSajuInfo('å·± æœª ç”² æœª ä¸™ åˆ åºš ç”³');
    const result25 = analyzeGeokguk(test25);
    if (printTestResult('Test 25: ë¯¸ì›” ê¸°í†  ì •ì¬ê²© (ë³¸ê¸° íˆ¬ì¶œ, ì¼ê°„â‰ í† )', result25, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©',
      ê²©ìš©ì‹ : 'å·±',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 26: ë¯¸ì›” ê¸°í†  (ë³¸ê¸° íˆ¬ì¶œ, ì¼ê°„=í†  â†’ ì¤‘ê¸°ë¡œ)
  // ì‚¬ì£¼: å·± ä¹™ å·± åºš / æœª æœª åˆ ç”³
  // ì›”ì§€: æœª(ë¯¸í† ) â†’ ë³¸ê¸° ê¸°í† (å·±), ì¤‘ê¸° ì„ëª©(ä¹™)
  // ì²œê°„: å·±, ä¹™ ëª¨ë‘ íˆ¬ì¶œ
  // ì¼ê°„: å·±(ê¸°í† ) ğŸ”¥
  // Step 1: ë³¸ê¸° ê¸°í†  íˆ¬ì¶œ? YES
  //        ì¼ê°„ì´ í† ì¸ê°€? YES
  //        â†’ ë¹„ê²ì´ë¯€ë¡œ ê²©ìœ¼ë¡œ ì•ˆ ì¡ìŒ! Step 2ë¡œ
  // Step 2: ì¤‘ê¸° ì„ëª©(ä¹™) íˆ¬ì¶œ â†’ ì„ëª©ì´ ê²©!
  // ê´€ê³„: ê¸°í†  vs ì„ëª© â†’ ì •ê´€
  // ê²°ê³¼: ì •ê´€ê²©
  try {
    const test26 = createTestSajuInfo('å·± æœª ä¹™ æœª å·± åˆ åºš ç”³');
    const result26 = analyzeGeokguk(test26);
    if (printTestResult('Test 26: ë¯¸ì›” ì„ëª© ì •ê´€ê²© (ì¼ê°„=í† , ì¤‘ê¸°ë¡œ)', result26, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ê´€ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 27: ìˆ ì›” ì‹ ê¸ˆ í¸ì¬ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)
  // ì‚¬ì£¼: è¾› ç”² ä¸™ åºš / æˆŒ æˆŒ åˆ ç”³
  // ì›”ì§€: æˆŒ(ìˆ í† ) â†’ ì—¬ê¸° ì‹ ê¸ˆ(è¾›)
  // ì²œê°„: è¾›ë§Œ íˆ¬ì¶œ (ä¸, æˆŠëŠ” ì—†ìŒ)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ì‹ ê¸ˆ â†’ í¸ì¬
  // ê²°ê³¼: í¸ì¬ê²©
  try {
    const test27 = createTestSajuInfo('è¾› æˆŒ ç”² æˆŒ ä¸™ åˆ åºš ç”³');
    const result27 = analyzeGeokguk(test27);
    if (printTestResult('Test 27: ìˆ ì›” ì‹ ê¸ˆ í¸ì¬ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)', result27, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¬ê²©',
      ê²©ìš©ì‹ : 'è¾›',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 28: ì¶•ì›” ê³„ìˆ˜ ì •ì¬ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)
  // ì‚¬ì£¼: ç™¸ ç”² å·± åºš / ä¸‘ ä¸‘ åˆ ç”³
  // ì›”ì§€: ä¸‘(ì¶•í† ) â†’ ì—¬ê¸° ê³„ìˆ˜(ç™¸)
  // ì²œê°„: ç™¸ë§Œ íˆ¬ì¶œ (è¾›, å·±ëŠ” ì—†ìŒ)
  // ì¼ê°„: å·±(ê¸°í† )
  // ê´€ê³„: ê¸°í†  vs ê³„ìˆ˜ â†’ ì •ì¬
  // ê²°ê³¼: ì •ì¬ê²©
  try {
    const test28 = createTestSajuInfo('ç™¸ ä¸‘ ç”² ä¸‘ å·± åˆ åºš ç”³');
    const result28 = analyzeGeokguk(test28);
    if (printTestResult('Test 28: ì¶•ì›” ê³„ìˆ˜ ì •ì¬ê²© (ì—¬ê¸°ë§Œ íˆ¬ì¶œ)', result28, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©',
      ê²©ìš©ì‹ : 'ç™¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // í•©êµ­(æœƒåˆ) í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ í•©êµ­(æœƒåˆ) í…ŒìŠ¤íŠ¸\n');

  // Test 29: ì§„ì›” + ì‹ ìì§„ ìˆ˜êµ­ (ì‚¼í•©)
  // ì‚¬ì£¼: å£¬ ç”² å£¬ åºš / è¾° å­ åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† )
  // ì§€ì§€: ç”³, å­, è¾° â†’ ì‹ ìì§„ ìˆ˜êµ­(æ°´å±€) ì™„ì„±! â­
  // ì²œê°„: å£¬(ì„ìˆ˜) 2ê°œ íˆ¬ì¶œ
  // Step 0: ì‚¼í•© í˜•ì„±? YES (ì‹ ìì§„)
  //        â†’ í† (åœŸ) ì›”ë ¹ì´ì§€ë§Œ ë¬¼ë¡œ ë³€í•¨!
  //        â†’ ìˆ˜(æ°´) ì˜¤í–‰ì´ ê²©
  // ê´€ê³„: ì„ìˆ˜(ì¼ê°„) vs ìˆ˜êµ­ â†’ ì–‘ì¸ê²© ë˜ëŠ” ê±´ë¡ê²© ê²½í–¥
  // ê²°ê³¼: ìˆ˜(æ°´)ì˜ ì„¸ë ¥ìœ¼ë¡œ ê²©êµ­ í˜•ì„±
  try {
    const test29 = createTestSajuInfo('å£¬ è¾° ç”² å­ å£¬ åˆ åºš ç”³');
    const result29 = analyzeGeokguk(test29);
    if (printTestResult('Test 29: ì§„ì›” + ì‹ ìì§„ ìˆ˜êµ­ (ì‚¼í•©)', result29, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì–‘ì¸ê²©', // ë˜ëŠ” ê±´ë¡ê²© (ì¼ê°„ì´ ì„ìˆ˜ì´ë¯€ë¡œ)
      ê²©ìš©ì‹ : 'å£¬',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 30: ë¯¸ì›” + í•´ë¬˜ë¯¸ ëª©êµ­ (ì‚¼í•©)
  // ì‚¬ì£¼: ä¹™ ç”² ä¸™ ä¹™ / æœª å¯ åˆ äº¥
  // ì›”ì§€: æœª(ë¯¸í† )
  // ì§€ì§€: äº¥, å¯, æœª â†’ í•´ë¬˜ë¯¸ ëª©êµ­(æœ¨å±€) ì™„ì„±! â­
  // ì²œê°„: ä¹™(ì„ëª©) 2ê°œ, ç”²(ê°‘ëª©) 1ê°œ íˆ¬ì¶œ
  // Step 0: ì‚¼í•© í˜•ì„±? YES (í•´ë¬˜ë¯¸)
  //        â†’ í† (åœŸ) ì›”ë ¹ì´ì§€ë§Œ ë‚˜ë¬´ë¡œ ë³€í•¨!
  //        â†’ ëª©(æœ¨) ì˜¤í–‰ì´ ê²©
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ëª©êµ­ â†’ ì •ì¸ê²© ë˜ëŠ” í¸ì¸ê²©
  // ê²°ê³¼: ëª©(æœ¨)ì˜ ì„¸ë ¥ìœ¼ë¡œ ê²©êµ­ í˜•ì„±
  try {
    const test30 = createTestSajuInfo('ä¹™ æœª ç”² å¯ ä¸™ åˆ ä¹™ äº¥');
    const result30 = analyzeGeokguk(test30);
    if (printTestResult('Test 30: ë¯¸ì›” + í•´ë¬˜ë¯¸ ëª©êµ­ (ì‚¼í•©)', result30, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©', // ë˜ëŠ” í¸ì¸ê²©
      ê²©ìš©ì‹ : 'ç”²', // ë˜ëŠ” 'ä¹™'
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 31: ì§„ì›” + ì¸ë¬˜ì§„ ëª©ë°© (ë°©í•©)
  // ì‚¬ì£¼: ä¹™ ç”² ä¸™ åºš / è¾° å¯ åˆ å¯…
  // ì›”ì§€: è¾°(ì§„í† )
  // ì§€ì§€: å¯…, å¯, è¾° â†’ ì¸ë¬˜ì§„ ëª©ë°©(æœ¨æ–¹) ì™„ì„±! â­
  // ì²œê°„: ç”²(ê°‘ëª©), ä¹™(ì„ëª©) íˆ¬ì¶œ
  // Step 0: ë°©í•© í˜•ì„±? YES (ì¸ë¬˜ì§„)
  //        â†’ í† (åœŸ) ì›”ë ¹ì´ì§€ë§Œ ë‚˜ë¬´ë¡œ ë³€í•¨!
  //        â†’ ëª©(æœ¨) ì˜¤í–‰ì´ ê²©
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ê´€ê³„: ë³‘í™” vs ëª©ë°© â†’ ì •ì¸ê²© ë˜ëŠ” í¸ì¸ê²©
  // ê²°ê³¼: ëª©(æœ¨)ì˜ ì„¸ë ¥ìœ¼ë¡œ ê²©êµ­ í˜•ì„±
  try {
    const test31 = createTestSajuInfo('ä¹™ è¾° ç”² å¯ ä¸™ åˆ åºš å¯…');
    const result31 = analyzeGeokguk(test31);
    if (printTestResult('Test 31: ì§„ì›” + ì¸ë¬˜ì§„ ëª©ë°© (ë°©í•©)', result31, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©', // ë˜ëŠ” í¸ì¸ê²©
      ê²©ìš©ì‹ : 'ç”²', // ë˜ëŠ” 'ä¹™'
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ë¬¸ì„œì— ì œì‹œëœ ì¼€ì´ìŠ¤ (TODO.md)
  // ============================================
  console.log('\nğŸ“Œ ë¬¸ì„œì— ì œì‹œëœ ì¼€ì´ìŠ¤\n');

  // Test 32: Case 1 - ì§„ì›” + ì„ìˆ˜ íˆ¬ê°„ + ììˆ˜ (ì„±ê²©)
  // ì‚¬ì£¼: å£¬ ç”² å£¬ åºš / è¾° å­ åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† )
  // ì§€ì§€: ç”³, å­, è¾° â†’ ì‹ ìì§„ ìˆ˜êµ­ í˜•ì„±
  // ì²œê°„: å£¬(ì„ìˆ˜) íˆ¬ì¶œ
  // ê²°ê³¼: í•©êµ­ìœ¼ë¡œ ìˆ˜êµ­ í˜•ì„±
  try {
    const test32 = createTestSajuInfo('å£¬ è¾° ç”² å­ å£¬ åˆ åºš ç”³');
    const result32 = analyzeGeokguk(test32);
    if (printTestResult('Test 32: Case 1 - ì§„ì›” + ì„ìˆ˜ íˆ¬ê°„ + ììˆ˜ (ì„±ê²©)', result32, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì–‘ì¸ê²©', // ë˜ëŠ” ê±´ë¡ê²©
      ê²©ìš©ì‹ : 'å£¬',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 33: Case 2 - ì§„ì›” + ë¬´í†  íˆ¬ê°„ + ììˆ˜ (ê°ˆë“±)
  // ì‚¬ì£¼: æˆŠ ç”² æˆŠ åºš / è¾° å­ åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† )
  // ì§€ì§€: ç”³, å­, è¾° â†’ ì‹ ìì§„ ìˆ˜êµ­ í˜•ì„±
  // ì²œê°„: æˆŠ(ë¬´í† ) íˆ¬ì¶œ
  // ê²°ê³¼: í•©êµ­ìœ¼ë¡œ ìˆ˜êµ­ í˜•ì„±, ë¬´í† ëŠ” ê°ˆë“±
  try {
    const test33 = createTestSajuInfo('æˆŠ è¾° ç”² å­ æˆŠ åˆ åºš ç”³');
    const result33 = analyzeGeokguk(test33);
    if (printTestResult('Test 33: Case 2 - ì§„ì›” + ë¬´í†  íˆ¬ê°„ + ììˆ˜ (ê°ˆë“±)', result33, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©', // ìˆ˜êµ­ì´ í˜•ì„±ë˜ë©´ ìˆ˜ ì˜¤í–‰ì´ ê²©
      ê²©ìš©ì‹ : 'å£¬', // ë˜ëŠ” 'ç™¸'
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 34: Case 3 - ë¯¸ì›” + ì„ëª© íˆ¬ê°„ + ë¬˜ëª©
  // ì‚¬ì£¼: ä¹™ ç”² ä¸™ ä¹™ / æœª å¯ åˆ ç”³
  // ì›”ì§€: æœª(ë¯¸í† )
  // ì§€ì§€: äº¥, å¯, æœª â†’ í•´ë¬˜ë¯¸ ëª©êµ­ í˜•ì„± ê°€ëŠ¥
  // ì²œê°„: ä¹™(ì„ëª©), ç”²(ê°‘ëª©) íˆ¬ì¶œ
  // ê²°ê³¼: í•©êµ­ìœ¼ë¡œ ëª©êµ­ í˜•ì„± ë˜ëŠ” ì„ëª© ì •ì¸ê²©
  try {
    const test34 = createTestSajuInfo('ä¹™ æœª ç”² å¯ ä¸™ åˆ ä¹™ ç”³');
    const result34 = analyzeGeokguk(test34);
    if (printTestResult('Test 34: Case 3 - ë¯¸ì›” + ì„ëª© íˆ¬ê°„ + ë¬˜ëª©', result34, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©', // ë˜ëŠ” í•©êµ­ìœ¼ë¡œ ëª©êµ­
      ê²©ìš©ì‹ : 'ä¹™', // ë˜ëŠ” 'ç”²'
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸\n');

  // Test 35: ê³ ì§€ - ëª¨ë“  ì§€ì¥ê°„ì´ íˆ¬ì¶œ (ë³¸ê¸°, ì—¬ê¸°, ì¤‘ê¸° ëª¨ë‘)
  // ì‚¬ì£¼: ä¹™ ç™¸ æˆŠ ç”² / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì—¬ê¸° ì„ëª©(ä¹™), ì¤‘ê¸° ê³„ìˆ˜(ç™¸), ë³¸ê¸° ë¬´í† (æˆŠ)
  // ì²œê°„: ä¹™, ç™¸, æˆŠ ëª¨ë‘ íˆ¬ì¶œ
  // ì¼ê°„: ç”²(ê°‘ëª©)
  // Step 1: ë³¸ê¸° ë¬´í†  íˆ¬ì¶œ? YES, ì¼ê°„â‰ í†  â†’ ë¬´í† ê°€ ê²©!
  // ê²°ê³¼: í¸ì¬ê²©
  try {
    const test35 = createTestSajuInfo('ä¹™ è¾° ç™¸ è¾° ç”² åˆ æˆŠ ç”³');
    const result35 = analyzeGeokguk(test35);
    if (printTestResult('Test 35: ê³ ì§€ - ëª¨ë“  ì§€ì¥ê°„ íˆ¬ì¶œ (ë³¸ê¸° ìš°ì„ )', result35, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¬ê²©',
      ê²©ìš©ì‹ : 'æˆŠ',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 36: ê³ ì§€ - ì¼ê°„=í† , ë³¸ê¸°ë§Œ íˆ¬ì¶œ, ì¤‘ê¸°ì—¬ê¸° ì—†ìŒ (ê²©êµ­ ë¯¸ì •)
  // ì‚¬ì£¼: æˆŠ ç”² æˆŠ åºš / æœª æœª åˆ ç”³
  // ì›”ì§€: æœª(ë¯¸í† ) â†’ ë³¸ê¸° ê¸°í† (å·±)
  // ì²œê°„: å·± ì—†ìŒ, æˆŠë§Œ ìˆìŒ (ë³¸ê¸° ê¸°í† ëŠ” íˆ¬ì¶œ ì•ˆë¨)
  // ì¼ê°„: æˆŠ(ë¬´í† ) ğŸ”¥
  // Step 1: ë³¸ê¸° ê¸°í†  íˆ¬ì¶œ? NO
  // Step 2: ì¤‘ê¸°/ì—¬ê¸° íˆ¬ì¶œ? NO
  // Step 4: ì¼ê°„ì´ í† ? YES
  // ê²°ê³¼: ê²©êµ­ ë¯¸ì •
  try {
    const test36 = createTestSajuInfo('æˆŠ æœª ç”² æœª æˆŠ åˆ åºš ç”³');
    const result36 = analyzeGeokguk(test36);
    if (printTestResult('Test 36: ê³ ì§€ - ì¼ê°„=í† , ë³¸ê¸°ë§Œ íˆ¬ì¶œ, ì¤‘ê¸°ì—¬ê¸° ì—†ìŒ', result36, {
      íŒë‹¨ê°€ëŠ¥: false,
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 37: ìƒì§€ - íˆ¬ì¶œ ì—†ìŒ (ë³¸ê¸° ì‚¬ìš©)
  // ì‚¬ì£¼: åºš å£¬ ä¸™ ç”² / å¯… å¯… åˆ ç”³
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ë³¸ê¸° ê°‘ëª©(ç”²)
  // ì²œê°„: ç”², ä¸™, æˆŠ ëª¨ë‘ ì—†ìŒ
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // Step 4: ì•„ë¬´ê²ƒë„ íˆ¬ì¶œ ì•ˆë¨
  //        â†’ ìƒì§€ëŠ” ê¸°ìš´ì´ ê°•í•˜ë¯€ë¡œ ë³¸ê¸°ë¥¼ ê²©ìœ¼ë¡œ ì‚¬ìš©
  // ê²°ê³¼: í¸ì¸ê²© (íŒŒê²©)
  try {
    const test37 = createTestSajuInfo('åºš å¯… å£¬ å¯… ä¸™ åˆ ç”² ç”³');
    const result37 = analyzeGeokguk(test37);
    if (printTestResult('Test 37: ìƒì§€ - íˆ¬ì¶œ ì—†ìŒ (ë³¸ê¸° ì‚¬ìš©)', result37, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'í¸ì¸ê²©',
      ê²©ìš©ì‹ : 'ç”²',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 38: ì™•ì§€ - íˆ¬ì¶œ ì—†ìŒ (ë³¸ê¸° ì‚¬ìš©, íŒŒê²©)
  // ì‚¬ì£¼: ç”² ä¸™ æˆŠ åºš / å­ å­ åˆ ç”³
  // ì›”ì§€: å­(ììˆ˜) â†’ ë³¸ê¸° ê³„ìˆ˜(ç™¸)
  // ì²œê°„: ç™¸ ì—†ìŒ
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // ê²°ê³¼: ì •ê´€ê²© (íŒŒê²©)
  try {
    const test38 = createTestSajuInfo('ç”² å­ ä¸™ å­ æˆŠ åˆ åºš ç”³');
    const result38 = analyzeGeokguk(test38);
    if (printTestResult('Test 38: ì™•ì§€ - íˆ¬ì¶œ ì—†ìŒ (ë³¸ê¸° ì‚¬ìš©, íŒŒê²©)', result38, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ê´€ê²©',
      ê²©ìš©ì‹ : 'ç™¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 39: ê³ ì§€ - ì—¬ê¸°ì™€ ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ, ìˆ˜ëŸ‰ ë™ì¼, ì‚¬ë ¹ì¼ìˆ˜ ìŠ¹ë¶€
  // ì‚¬ì£¼: ä¹™ ç™¸ ä¸™ åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì—¬ê¸° ì„ëª©(ä¹™), ì¤‘ê¸° ê³„ìˆ˜(ç™¸)
  // ì²œê°„: ä¹™ 1ê°œ, ç™¸ 1ê°œ (ìˆ˜ëŸ‰ ë™ì¼)
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // Step 3: ë‘˜ ë‹¤ íˆ¬ì¶œ, ìˆ˜ëŸ‰ ê°™ìŒ â†’ ì‚¬ë ¹ì¼ìˆ˜ ìŠ¹ë¶€
  //        ì—¬ê¸°(9ì¼) > ì¤‘ê¸°(3ì¼)
  // ê²°ê³¼: ì •ì¸ê²© (ì„ëª©)
  try {
    const test39 = createTestSajuInfo('ä¹™ è¾° ç™¸ è¾° ä¸™ åˆ åºš ç”³');
    const result39 = analyzeGeokguk(test39);
    if (printTestResult('Test 39: ê³ ì§€ - ì—¬ê¸°ì¤‘ê¸° ê²½í•©, ì‚¬ë ¹ì¼ìˆ˜ ìŠ¹ë¶€', result39, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 40: ì˜¤ì›” - ê¸°í†  ì¤‘ê¸° ì²˜ë¦¬
  // ì‚¬ì£¼: å·± ä¸™ æˆŠ åºš / åˆ åˆ åˆ ç”³
  // ì›”ì§€: åˆ(ì˜¤í™”) â†’ ì—¬ê¸° ë³‘í™”(ä¸™), ì¤‘ê¸° ê¸°í† (å·±), ë³¸ê¸° ì •í™”(ä¸)
  // ì²œê°„: å·±ë§Œ íˆ¬ì¶œ
  // ì¼ê°„: æˆŠ(ë¬´í† )
  // Step 2: ì¤‘ê¸° ê¸°í† (å·±) íˆ¬ì¶œ? YES
  // ê´€ê³„: ë¬´í†  vs ê¸°í†  â†’ ë¹„ê²¬ (ê²© ì•„ë‹˜!)
  // ê²°ê³¼: ë³¸ê¸° ì •í™”(ä¸)ë¡œ ì´ë™? ì•„ë‹ˆë©´ ì¤‘ê¸° ê¸°í† ê°€ ê²©?
  // ì£¼ì˜: ì˜¤ì›”ì€ íŠ¹ìˆ˜ - ê¸°í† ê°€ ì¤‘ê¸°ì— ìˆìŒ
  // ì‹¤ì œë¡œëŠ” ë³¸ê¸° ì •í™”ê°€ ê²©ì´ ë˜ì–´ì•¼ í•¨
  try {
    const test40 = createTestSajuInfo('å·± åˆ ä¸™ åˆ æˆŠ åˆ åºš ç”³');
    const result40 = analyzeGeokguk(test40);
    // ì˜¤ì›”ì€ ë³¸ê¸°ê°€ ì •í™”ì´ë¯€ë¡œ ì •í™”ê°€ ê²©
    if (printTestResult('Test 40: ì˜¤ì›” - ê¸°í†  ì¤‘ê¸° ì²˜ë¦¬', result40, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©', // ë¬´í†  vs ì •í™”
      ê²©ìš©ì‹ : 'ä¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ì „ì™•ê²© í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ ì „ì™•ê²© í…ŒìŠ¤íŠ¸\n');

  // Test 41: ê³¡ì§ì¸ìˆ˜ê²© (ëª© ì „ì™•ê²©)
  // ì‚¬ì£¼: ç”² ç”² ç”² ç”² / å¯… å¯ è¾° äº¥
  // ì¼ê°„: ç”²(ê°‘ëª©)
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ëª© ë“ë ¹ âœ…
  // ì§€ì§€: å¯…, å¯, äº¥ â†’ í•´ë¬˜ë¯¸ ëª©êµ­ í˜•ì„± ê°€ëŠ¥ (ë˜ëŠ” ì¸ë¬˜ì§„ ëª©ë°©)
  // ê´€ì‚´: ê²½ê¸ˆ, ì‹ ê¸ˆ ì—†ìŒ ë˜ëŠ” ë¬´ë ¥
  // ê²°ê³¼: ê³¡ì§ì¸ìˆ˜ê²©
  try {
    const test41 = createTestSajuInfo('ç”² å¯… ç”² å¯ ç”² è¾° ç”² äº¥');
    const result41 = analyzeGeokguk(test41);
    if (printTestResult('Test 41: ê³¡ì§ì¸ìˆ˜ê²© (ëª© ì „ì™•ê²©)', result41, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ê³¡ì§ì¸ìˆ˜ê²©',
      ê²©ìš©ì‹ : 'ç”²',
      ê²©ë¶„ë¥˜: 'ì™¸ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 42: ì—¼ìƒê²© (í™” ì „ì™•ê²©)
  // ì‚¬ì£¼: ä¸™ ä¸™ ä¸™ ä¸™ / å·³ åˆ æœª å¯…
  // ì¼ê°„: ä¸™(ë³‘í™”)
  // ì›”ì§€: åˆ(ì˜¤í™”) â†’ í™” ë“ë ¹ âœ…
  // ì§€ì§€: å·³, åˆ, æœª â†’ ì‚¬ì˜¤ë¯¸ í™”ë°© í˜•ì„± ê°€ëŠ¥
  // ê´€ì‚´: ì„ìˆ˜, ê³„ìˆ˜ ì—†ìŒ ë˜ëŠ” ë¬´ë ¥
  // ê²°ê³¼: ì—¼ìƒê²©
  try {
    const test42 = createTestSajuInfo('ä¸™ å·³ ä¸™ åˆ ä¸™ æœª ä¸™ å¯…');
    const result42 = analyzeGeokguk(test42);
    if (printTestResult('Test 42: ì—¼ìƒê²© (í™” ì „ì™•ê²©)', result42, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì—¼ìƒê²©',
      ê²©ìš©ì‹ : 'ä¸™',
      ê²©ë¶„ë¥˜: 'ì™¸ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // í™”ê¸°ê²© í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ í™”ê¸°ê²© í…ŒìŠ¤íŠ¸\n');

  // Test 43: ê°‘ê¸°í™”í† ê²©
  // ì‚¬ì£¼: ç”² å·± ä¸™ æˆŠ / å­ æœª åˆ ç”³
  // ì¼ê°„: ç”²(ê°‘ëª©)
  // ì›”ê°„: å·±(ê¸°í† ) â†’ ê°‘ê¸°í•©í†  âœ…
  // ì›”ì§€: æœª(ë¯¸í† ) â†’ í†  ì˜¤í–‰ ì™•ì„± âœ…
  // ê²°ê³¼: ê°‘ê¸°í™”í† ê²©
  try {
    const test43 = createTestSajuInfo('ç”² å­ å·± æœª ä¸™ åˆ æˆŠ ç”³');
    const result43 = analyzeGeokguk(test43);
    if (printTestResult('Test 43: ê°‘ê¸°í™”í† ê²©', result43, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ê°‘ê¸°í™”í† ê²©',
      ê²©ìš©ì‹ : 'å·±', // ë˜ëŠ” 'ç”²'
      ê²©ë¶„ë¥˜: 'ì™¸ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 44: ì •ì„í™”ëª©ê²©
  // ì‚¬ì£¼: ä¸ å£¬ ç”² ä¹™ / å­ å¯… åˆ ç”³
  // ì¼ê°„: ä¸(ì •í™”)
  // ì›”ê°„: å£¬(ì„ìˆ˜) â†’ ì •ì„í•©ëª© âœ…
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ëª© ì˜¤í–‰ ì™•ì„± âœ…
  // ê²°ê³¼: ì •ì„í™”ëª©ê²©
  try {
    const test44 = createTestSajuInfo('ä¸ å­ å£¬ å¯… ç”² åˆ ä¹™ ç”³');
    const result44 = analyzeGeokguk(test44);
    if (printTestResult('Test 44: ì •ì„í™”ëª©ê²©', result44, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì„í™”ëª©ê²©',
      ê²©ìš©ì‹ : 'å£¬', // ë˜ëŠ” 'ä¸'
      ê²©ë¶„ë¥˜: 'ì™¸ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ì¢…ê²© í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ ì¢…ê²© í…ŒìŠ¤íŠ¸\n');

  // Test 45: ì¢…ì¬ê²©
  // ì‚¬ì£¼: ç”² æˆŠ æˆŠ æˆŠ / ç”³ è¾° åˆ æˆŒ
  // ì¼ê°„: ç”²(ê°‘ëª©)
  // í†µê·¼ë ¥: ì§€ì§€ì— ëª© ì˜¤í–‰ ì—†ìŒ (ë¬´ê·¼) âœ…
  // ì¸ì„±: ìˆ˜ ì˜¤í–‰ ì—†ìŒ ë˜ëŠ” ë¬´ë ¥ âœ…
  // ìš°ì„¸: í†  ì˜¤í–‰ì´ ì§€ë°°ì  (ì¬ì„±)
  // ê²°ê³¼: ì¢…ì¬ê²©
  try {
    const test45 = createTestSajuInfo('ç”² ç”³ æˆŠ è¾° æˆŠ åˆ æˆŠ æˆŒ');
    const result45 = analyzeGeokguk(test45);
    if (printTestResult('Test 45: ì¢…ì¬ê²©', result45, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì¢…ì¬ê²©',
      ê²©ìš©ì‹ : 'ç”²',
      ê²©ë¶„ë¥˜: 'ì™¸ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ë°˜í•©(åŠåˆ) í…ŒìŠ¤íŠ¸
  // ============================================
  console.log('\nğŸ“Œ ë°˜í•©(åŠåˆ) í…ŒìŠ¤íŠ¸\n');

  // Test 46: ë°˜í•© - ì›”ì§€+ì™•ì§€ (ì‹ ì ë°˜í•©)
  // ì‚¬ì£¼: å£¬ ç”² å£¬ åºš / ç”³ å­ åˆ ç”³
  // ì›”ì§€: ç”³(ì‹ ê¸ˆ)
  // ì§€ì§€: ç”³, å­ â†’ ì‹ ì ë°˜í•© (ì™•ì§€ ì í¬í•¨)
  // ì£¼ì˜: í˜„ì¬ êµ¬í˜„ì€ ì™„ì „ ì‚¼í•©ë§Œ í™•ì¸í•˜ë¯€ë¡œ ë°˜í•©ì€ ì¸ì • ì•ˆë  ìˆ˜ ìˆìŒ
  // ê²°ê³¼: ì¼ë°˜ ë‚´ê²© íŒë‹¨
  try {
    const test46 = createTestSajuInfo('å£¬ ç”³ ç”² å­ å£¬ åˆ åºš ç”³');
    const result46 = analyzeGeokguk(test46);
    // ë°˜í•©ì€ í˜„ì¬ êµ¬í˜„ì— ì—†ìœ¼ë¯€ë¡œ ì¼ë°˜ íŒë‹¨
    if (printTestResult('Test 46: ë°˜í•© - ì‹ ì ë°˜í•© (ì›”ì§€+ì™•ì§€)', result46, {
      íŒë‹¨ê°€ëŠ¥: true,
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ë³µì¡í•œ ì—£ì§€ ì¼€ì´ìŠ¤
  // ============================================
  console.log('\nğŸ“Œ ë³µì¡í•œ ì—£ì§€ ì¼€ì´ìŠ¤\n');

  // Test 47: ê³ ì§€ - ë³¸ê¸°ì™€ ì—¬ê¸° ëª¨ë‘ íˆ¬ì¶œ, ì¼ê°„=í† 
  // ì‚¬ì£¼: æˆŠ ä¹™ æˆŠ åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì—¬ê¸° ì„ëª©(ä¹™), ë³¸ê¸° ë¬´í† (æˆŠ)
  // ì²œê°„: ä¹™, æˆŠ ëª¨ë‘ íˆ¬ì¶œ
  // ì¼ê°„: æˆŠ(ë¬´í† ) ğŸ”¥
  // Step 1: ë³¸ê¸° ë¬´í†  íˆ¬ì¶œ? YES, ì¼ê°„=í†  â†’ ë¹„ê²ì´ë¯€ë¡œ ê²© ì•„ë‹˜
  // Step 2: ì—¬ê¸° ì„ëª©(ä¹™) íˆ¬ì¶œ â†’ ì„ëª©ì´ ê²©!
  // ê²°ê³¼: ì •ê´€ê²©
  try {
    const test47 = createTestSajuInfo('æˆŠ è¾° ä¹™ è¾° æˆŠ åˆ åºš ç”³');
    const result47 = analyzeGeokguk(test47);
    if (printTestResult('Test 47: ê³ ì§€ - ë³¸ê¸°ì™€ ì—¬ê¸° ëª¨ë‘ íˆ¬ì¶œ, ì¼ê°„=í† ', result47, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ê´€ê²©',
      ê²©ìš©ì‹ : 'ä¹™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 48: ê³ ì§€ - ë³¸ê¸°ì™€ ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ, ì¼ê°„=í† 
  // ì‚¬ì£¼: æˆŠ ç™¸ æˆŠ åºš / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì¤‘ê¸° ê³„ìˆ˜(ç™¸), ë³¸ê¸° ë¬´í† (æˆŠ)
  // ì²œê°„: ç™¸, æˆŠ ëª¨ë‘ íˆ¬ì¶œ
  // ì¼ê°„: æˆŠ(ë¬´í† ) ğŸ”¥
  // Step 1: ë³¸ê¸° ë¬´í†  íˆ¬ì¶œ? YES, ì¼ê°„=í†  â†’ ë¹„ê²ì´ë¯€ë¡œ ê²© ì•„ë‹˜
  // Step 2: ì¤‘ê¸° ê³„ìˆ˜(ç™¸) íˆ¬ì¶œ â†’ ê³„ìˆ˜ê°€ ê²©!
  // ê²°ê³¼: ì •ì¬ê²©
  try {
    const test48 = createTestSajuInfo('æˆŠ è¾° ç™¸ è¾° æˆŠ åˆ åºš ç”³');
    const result48 = analyzeGeokguk(test48);
    if (printTestResult('Test 48: ê³ ì§€ - ë³¸ê¸°ì™€ ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ, ì¼ê°„=í† ', result48, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¬ê²©',
      ê²©ìš©ì‹ : 'ç™¸',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 49: ê³ ì§€ - ë³¸ê¸°, ì—¬ê¸°, ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ, ì¼ê°„=í† 
  // ì‚¬ì£¼: ä¹™ ç™¸ æˆŠ ç”² / è¾° è¾° åˆ ç”³
  // ì›”ì§€: è¾°(ì§„í† ) â†’ ì—¬ê¸° ì„ëª©(ä¹™), ì¤‘ê¸° ê³„ìˆ˜(ç™¸), ë³¸ê¸° ë¬´í† (æˆŠ)
  // ì²œê°„: ä¹™, ç™¸, æˆŠ ëª¨ë‘ íˆ¬ì¶œ
  // ì¼ê°„: æˆŠ(ë¬´í† ) ğŸ”¥
  // Step 1: ë³¸ê¸° ë¬´í†  íˆ¬ì¶œ? YES, ì¼ê°„=í†  â†’ ë¹„ê²ì´ë¯€ë¡œ ê²© ì•„ë‹˜
  // Step 2: ì—¬ê¸°ì™€ ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ â†’ ê²½í•© í•´ê²°
  // ê²°ê³¼: ì—¬ê¸° ë˜ëŠ” ì¤‘ê¸° ì¤‘ í•˜ë‚˜
  try {
    const test49 = createTestSajuInfo('ä¹™ è¾° ç™¸ è¾° æˆŠ åˆ ç”² ç”³');
    const result49 = analyzeGeokguk(test49);
    if (printTestResult('Test 49: ê³ ì§€ - ë³¸ê¸°ì—¬ê¸°ì¤‘ê¸° ëª¨ë‘ íˆ¬ì¶œ, ì¼ê°„=í† ', result49, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì •ì¸ê²©', // ë˜ëŠ” ì •ì¬ê²©
      ê²©ìš©ì‹ : 'ä¹™', // ë˜ëŠ” 'ç™¸'
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // Test 50: ìƒì§€ - ì¤‘ê¸°ì™€ ì—¬ê¸° ëª¨ë‘ íˆ¬ì¶œ (ì‚¬ì›” ì œì™¸)
  // ì‚¬ì£¼: æˆŠ ä¸™ ç”² åºš / å¯… å¯… åˆ ç”³
  // ì›”ì§€: å¯…(ì¸ëª©) â†’ ì—¬ê¸° ë¬´í† (æˆŠ), ì¤‘ê¸° ë³‘í™”(ä¸™), ë³¸ê¸° ê°‘ëª©(ç”²)
  // ì²œê°„: æˆŠ, ä¸™ ëª¨ë‘ íˆ¬ì¶œ
  // ì¼ê°„: ç”²(ê°‘ëª©)
  // Step 2: ì¤‘ê¸° ë³‘í™”(ä¸™) íˆ¬ì¶œ? YES
  // ì£¼ì˜: ì¸ì›”ì€ ë¬´í†  ë¶ˆì¸ì •, ì¤‘ê¸°ê°€ ìš°ì„ 
  // ê²°ê³¼: ì‹ì‹ ê²©
  try {
    const test50 = createTestSajuInfo('æˆŠ å¯… ä¸™ å¯… ç”² åˆ åºš ç”³');
    const result50 = analyzeGeokguk(test50);
    if (printTestResult('Test 50: ìƒì§€ - ì¤‘ê¸°ì™€ ì—¬ê¸° ëª¨ë‘ íˆ¬ì¶œ (ì¸ì›”)', result50, {
      íŒë‹¨ê°€ëŠ¥: true,
      ê²©ëª…ì¹­: 'ì‹ì‹ ê²©',
      ê²©ìš©ì‹ : 'ä¸™',
      ê²©ë¶„ë¥˜: 'ë‚´ê²©',
    })) passCount++; else failCount++;
  } catch (e) {
    console.log(`âŒ ì˜¤ë¥˜: ${e}`);
    failCount++;
  }

  // ============================================
  // ìµœì¢… ê²°ê³¼
  // ============================================
  console.log(`\n${'='.repeat(60)}`);
  console.log(`í…ŒìŠ¤íŠ¸ ì™„ë£Œ`);
  console.log(`${'='.repeat(60)}`);
  console.log(`âœ… í†µê³¼: ${passCount}ê°œ`);
  console.log(`âŒ ì‹¤íŒ¨: ${failCount}ê°œ`);
  console.log(`ğŸ“Š ì´ê³„: ${passCount + failCount}ê°œ`);
  console.log(`${'='.repeat(60)}\n`);

  return { passCount, failCount, total: passCount + failCount };
}

// ë¸Œë¼ìš°ì €ë‚˜ Node.jsì—ì„œ ì§ì ‘ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ export
export default runAllTests;

